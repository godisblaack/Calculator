{
  "name": "Calculator Dev Environment",
  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.shell.linux": "/bin/bash",
        "editor.formatOnSave": true
      },
      "extensions": [
        "ms-vscode.cpptools-extension-pack"
      ]
    }
  },
  "postCreateCommand": [
    // Install global dependencies first
    "npm install -g node-gyp concurrently",

    // Install backend dependencies (node)
    "cd node && npm install express cors node-addon-api",

    // Install frontend dependencies (react)
    "cd frontend && npm install react-scripts",

    // Install other project dependencies in the root directory
    "npm install"
  ],
  "postStartCommand": [
    // Use concurrently to start both API and frontend in parallel
    "concurrently \"npm run start-api\" \"npm run start-frontend\""
  ],
  "remoteUser": "codespace",
  "forwardPorts": [3000, 3001],
  "shutdownAction": "stopCompose"
}
